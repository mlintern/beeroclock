var preferences={};preferences.supported=function(){try{return void 0!==window.localStorage}catch(e){return!1}},preferences.getInstance=function(){return this.supported()?(void 0===window.localStorage.beeroclock&&(window.localStorage.beeroclock="{}"),JSON.parse(window.localStorage.beeroclock)):void 0},preferences.get=function(e){if(this.supported()){var t=preferences.getInstance();return void 0!=t[e]?JSON.parse(t[e]):void 0}},preferences.set=function(e,t){if(this.supported()){var n=preferences.getInstance();return n[e]=t,window.localStorage.beeroclock=JSON.stringify(n),t}},preferences.unset=function(e){if(this.supported()){var t=preferences.getInstance();delete t[e],window.localStorage.beeroclock=JSON.parse(t)}};var user={};user.getDrink=function(){var e=preferences.get("drink");return void 0!==e?e:user.setDrink(1)},user.setDrink=function(e){return preferences.set("drink",e),e},user.getBubblez=function(){var e=preferences.get("bubblez");return void 0!==e?e:user.setBubblez(!0)},user.setBubblez=function(e){return preferences.set("bubblez",e),e},user.getTime=function(){var e=preferences.get("time");return void 0!==e?e:user.setTime(17)},user.setTime=function(e){return preferences.set("time",e),e},$(document).ready(function(){const e=100;var t,n={},s=window.location.href.split("?")[1],i=$(".countdown-hours > .digit"),o=$(".countdown-minutes > .digit"),r=$(".countdown-seconds > .digit");s="undefined"==typeof s?[]:s.split("&"),query_string={};for(t in s)item=s[t].split("="),query_string[item[0]]=item[1];"undefined"!=typeof query_string.t&&user.setTime(query_string.t);var a={1:{glass:"uk-pint",liquid:"drink-lager",bubbles:!0,bubbles_min:20,bubbles_max:40,bubbles_small:2,bubbles_big:6},2:{glass:"uk-pint",liquid:"drink-ale",bubbles:!1,bubbles_min:"0",bubbles_max:"0",bubbles_small:"0",bubbles_big:"0"},3:{glass:"uk-pint",liquid:"drink-stout",bubbles:!1,bubbles_min:0,bubbles_max:0,bubbles_small:0,bubbles_big:0},4:{glass:"beer-bottle",liquid:"drink-lager-light",bubbles:!0,bubbles_min:10,bubbles_max:30,bubbles_small:2,bubbles_big:4},5:{glass:"hiball",liquid:"drink-gintonic",bubbles:!0,bubbles_min:10,bubbles_max:30,bubbles_small:2,bubbles_big:4},6:{glass:"hiball",liquid:"drink-cola",bubbles:!0,bubbles_min:10,bubbles_max:30,bubbles_small:2,bubbles_big:4},7:{glass:"beer-bottle alcopop-bottle",liquid:"drink-blue-alcopop",bubbles:!0,bubbles_min:10,bubbles_max:30,bubbles_small:1,bubbles_big:2}};n.canHaz=function(){var e=new Date;return e.getHours()>=user.getTime()||6===e.getDay()||0===e.getDay()},n.leadingZero=function(e){return 10>e?"0"+e:e},n.formatTime=function(e){var t=this.leadingZero(e.getHours()),n=this.leadingZero(e.getMinutes()),s=this.leadingZero(e.getSeconds());return{hours:t.toString().split(""),minutes:n.toString().split(""),seconds:s.toString().split("")}},n.getDate=function(){var e=new Date;return e.getHours()>=user.getTime()&&e.setDate(e.getDate()+1),e.setHours(user.getTime()),e.setMinutes(0),e.setSeconds(0),e},n.howLong=function(){var e=this.getDate(),t=this.canHaz()?e:new Date,n=Math.abs(e.getHours()-t.getHours()-1),s=Math.abs(60-t.getMinutes()),i=Math.abs(60-t.getSeconds()),o=new Date;return o.setHours(n),o.setMinutes(s),o.setSeconds(i),o},n.howLongPercentage=function(){if(this.canHaz())return e;var t=new Date/1e3,n=this.getDate()/1e3;return parseInt(e-100*((n-t)/86400))},n.pour=function(){var e=n.howLong(),t=n.formatTime(e);if($.each(i,function(e){i[e].innerHTML=t.hours[e]}),$.each(o,function(e){o[e].innerHTML=t.minutes[e]}),$.each(r,function(e){r[e].innerHTML=t.seconds[e]}),n.canHaz())document.title="It's Beer o'clock now!",$(".beer-oclock-notification").show(),$(".countdown-container").hide();else{var s="";e.getHours()>0&&(s+=e.getHours()+"h "),e.getMinutes()>0&&(s+=e.getMinutes()+"m "),s+=e.getSeconds()+"s ",document.title=s,$(".beer-oclock-notification").hide(),$(".countdown-container").show()}$(".tasty-beverage").css({height:n.howLongPercentage()+"%"})},n.releaseTheBubblez=function(){var e=$(".bubbles"),t=a[user.getDrink()],n=t.bubbles_min,s=t.bubbles_max,i=t.bubbles_small,o=t.bubbles_big;if(e.empty(),t.bubbles)for(var r=n+Math.floor(Math.random()*(s+1)),u=0;r>u;u++)e.append('<div class="bubble-container"><div class="bubble"></div></div>');e.find("> .bubble-container").each(function(){var e=i+Math.floor(Math.random()*(o+1)),t=Math.floor(101*Math.random()),n=Math.floor(16*Math.random()),s=3+Math.floor(9*Math.random()),r=$(this);r.css({left:t+"%","-webkit-animation-duration":s+"s","-moz-animation-duration":s+"s","-ms-animation-duration":s+"s","animation-duration":s+"s","-webkit-animation-delay":n+"s","-moz-animation-delay":n+"s","-ms-animation-delay":n+"s","animation-delay":n+"s"}),r.children(".bubble").css({width:e+"px",height:e+"px"})})},n.bubblesOn=function(){n.releaseTheBubblez(),$(".bubbles").fadeIn("1000",function(){$(".bubble-container").css({"animation-play-state":"running","-webkit-animation-play-state":"running"}),$(".bubble-toggle").text("Bubbles Off")})},n.bubblesOff=function(){$(".bubbles").fadeOut("2500",function(){$(".bubble-container").css({"animation-play-state":"paused","-webkit-animation-play-state":"paused"}),$(".bubbles").empty(),$(".bubble-toggle").text("Bubbles On")})},n.toggleBubblez=function(){user.getBubblez()?(user.setBubblez(!1),n.bubblesOff()):(user.setBubblez(!0),n.bubblesOn())},n.render=function(){var e=a[user.getDrink()];$("#drink-type").removeClass().fadeOut("100",function(){$(this).addClass(e.glass+" "+e.liquid).fadeIn("250")}),$(".bubbles").empty(),e.bubbles&&user.getBubblez()&&this.releaseTheBubblez(user.getDrink());var t=$(".bubble-toggle");e.bubbles?t.show():t.hide(),user.getBubblez()?t.text("Bubbles Off"):t.text("Bubbles On")},$('select[name="drink_type"]').on("change",function(){user.setDrink($(this).find(":selected").val()),n.render()}),$('select[name="start_hour"]').on("change",function(){user.setTime($(this).find(":selected").val())}),$(".bubble-toggle").on("click",n.toggleBubblez),$(".settings-toggle").on("click",function(){$('select[name="drink_type"]').find('> option[value="'+user.getDrink()+'"]')[0].selected=!0,$('select[name="start_hour"]').find('> option[value="'+user.getTime()+'"]')[0].selected=!0,$(".settings-panel, .site-footer").slideToggle()}),"undefined"!=typeof query_string.drink&&user.setDrink(query_string.drink),n.render(),setTimeout(function(){n.pour(),setInterval(n.pour,1e3)},1e3),window.drink=n}),function(e){e.fn.extend({customSelect:function(t){var n={customClass:null,mapClass:!0,mapStyle:!0},s=function(t,n){var s=t.find(":selected"),i=n.children(":first"),o=s.html()||"&nbsp;";i.html(o),setTimeout(function(){n.removeClass("customSelectOpen"),e(document).off("mouseup.customSelectOpen")},60)};return"undefined"==typeof document.body.style.maxHeight?this:(t=e.extend(n,t),this.each(function(){var n=e(this),i=e('<span class="customSelectInner" />'),o=e('<span class="customSelect" />');o.append(i),n.after(o),t.customClass&&o.addClass(t.customClass),t.mapClass&&o.addClass(n.attr("class")),t.mapStyle&&o.attr("style",n.attr("style")),n.addClass("hasCustomSelect").on("update",function(){s(n,o);var e=parseInt(n.outerWidth(),10)-(parseInt(o.outerWidth(),10)-parseInt(o.width(),10));o.css({display:"inline-block"});var t=o.outerHeight();n.attr("disabled")?o.addClass("customSelectDisabled"):o.removeClass("customSelectDisabled"),i.css({width:e,display:"inline-block"}),n.css({"-webkit-appearance":"menulist-button",width:o.outerWidth(),position:"absolute",opacity:0,height:t,fontSize:o.css("font-size")})}).on("change",function(){o.addClass("customSelectChanged"),s(n,o)}).on("keyup",function(){o.hasClass("customSelectOpen")||(n.blur(),n.focus())}).on("mouseup",function(t){o.removeClass("customSelectChanged"),o.hasClass("customSelectOpen")||(o.addClass("customSelectOpen"),t.stopPropagation(),e(document).one("mouseup.customSelectOpen",function(t){t.target!=n.get(0)&&0>e.inArray(t.target,n.find("*").get())?n.blur():s(n,o)}))}).focus(function(){o.removeClass("customSelectChanged").addClass("customSelectFocus")}).blur(function(){o.removeClass("customSelectFocus customSelectOpen")}).hover(function(){o.addClass("customSelectHover")},function(){o.removeClass("customSelectHover")}).trigger("update")}))}})}(jQuery),$(window).on("load",function(){(function(e,t,n){var s,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(s=e.createElement(t),s.id=n,s.async=!0,s.src="//connect.facebook.net/en_GB/all.js#xfbml=1&appId=441260642628600",i.parentNode.insertBefore(s,i))})(document,"script","facebook-jssdk"),!function(e,t,n){var s,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(s=e.createElement(t),s.id=n,s.src="//platform.twitter.com/widgets.js",i.parentNode.insertBefore(s,i))}(document,"script","twitter-wjs"),window.___gcfg={lang:"en-GB"},function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://apis.google.com/js/plusone.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),$(".social-sharing").delay(500).fadeIn()});